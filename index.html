<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Ray Creamy Cakes â€” Online</title>
  <style>
    :root{
      --brand-pink:#d63384;
      --brand-pink-deep:#b42b6f;
      --white:#ffffff;
      --muted:#f6f4f6;
      --card-shadow: 0 6px 18px rgba(0,0,0,0.08);
      --max-width:1200px;
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter,system-ui,Arial,sans-serif;background:var(--muted);color:#222;line-height:1.4}
    /* Header / Letterhead */
    header.letterhead{background:var(--white);border-bottom:4px solid pink;position:sticky;top:0;z-index:1100}
    .topbar{max-width:var(--max-width);margin:auto;display:flex;align-items:center;justify-content:space-between;padding:14px 18px}
    .brand{display:flex;align-items:center;gap:12px}
    .logo-mark{width:54px;height:46px;border-radius:8px;background:linear-gradient(135deg,var(--brand-pink),var(--brand-pink-deep));display:flex;align-items:center;justify-content:center;color:white;font-weight:700;font-family:"Brush Script MT",cursive}
    .brand h1{margin:0;font-size:28px;color:var(--brand-black);font-family:"Brush Script MT",cursive}
    .brand .tag{font-size:12px;color:var(--brand-pink);opacity:.9}
    /* Nav */
    /* Navigation (new tab line with dividers) */
.navbar ul {
  display: flex;
  list-style: none;
  gap: 12px;
  padding: 0;
  margin: 10px 0 0;
  justify-content: center;
  align-items: center;
}

.navbar ul li {
  display: flex;
  align-items: center;
}

/* Tab links */
.navbar ul li a {
  text-decoration: none;
  font-weight: 600;
  color: var(--brand-pink);
  padding: 6px 10px;
  transition: 0.3s;
}

.navbar ul li a:hover {
  color: var(--brand-pink-deep);
  text-decoration: underline;
}

/* Stylish divider between tabs */
.divider {
  font-weight: bold;
  color: #aaa;
  margin: 0 6px;
  font-size: 18px;
  line-height: 1;
  user-select: none;
}
    /* Hero */
    .hero{max-width:var(--max-width);margin:18px auto 0;background:linear-gradient(180deg,rgba(214,51,132,0.05),transparent);padding:30px;border-radius:12px;display:flex;gap:20px;align-items:center}
    .hero-left{flex:1;padding:8px}
    .hero-left h2{margin:0;color:var(--brand-pink);font-size:28px}
    .hero-left p{margin-top:8px;color:#444}
    .hero-cta{margin-top:12px}
    .btn-primary{background:var(--brand-pink);color:white;padding:10px 16px;border:none;border-radius:8px;cursor:pointer;font-weight:700}
    .btn-primary:hover{background:var(--brand-pink-deep)}
    .hero-right{width:260px;display:flex;justify-content:center}
    .hero-img{width:220px;height:140px;border-radius:10px;object-fit:cover;box-shadow:var(--card-shadow)}
    /* Search */
    .search-area{max-width:var(--max-width);margin:18px auto;padding:0 18px;display:flex;justify-content:center}
    #search{width:100%;max-width:820px;padding:12px 14px;border-radius:8px;border:2px solid #ffd6ea;outline:none;font-size:15px}
    /* Products grid */
    .products-section{max-width:var(--max-width);margin:18px auto;padding:16px;border-radius:10px}
    .section-title{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}
    .section-title h3{margin:0;color:var(--brand-pink)}
    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(230px,1fr));gap:16px}
    .card{background:var(--white);border-radius:10px;padding:12px;box-shadow:var(--card-shadow);display:flex;flex-direction:column;gap:8px}
    .card img{width:100%;height:160px;object-fit:cover;border-radius:8px}
    .card h4{margin:0;color:#222;font-size:16px}
    .card p{margin:0;color:#666;font-size:14px}
    .card .price{margin-top:6px;font-weight:800;color:var(--brand-pink)}
    .card .small{font-size:13px;color:#888}
    .card .actions{display:flex;gap:8px;margin-top:8px}
    .btn-outline{background:white;border:2px solid var(--brand-pink);color:var(--brand-pink);padding:8px 10px;border-radius:8px;cursor:pointer;font-weight:700}
    .btn-outline:hover{background:#fff0f6}
    /* Modal */
    .modal{position:fixed;inset:0;background:rgba(0,0,0,0.55);display:none;align-items:center;justify-content:center;padding:16px;z-index:2200}
    .modal.open{display:flex}
    .modal-card{background:white;border-radius:10px;max-width:760px;width:100%;display:flex;gap:18px;padding:16px;box-shadow:0 12px 30px rgba(0,0,0,0.18)}
    .modal-left{flex:1}
    .modal-left img{width:100%;height:320px;object-fit:cover;border-radius:8px}
    .modal-right{width:360px;display:flex;flex-direction:column;gap:10px}
    .modal-right h3{margin:0;color:var(--brand-pink)}
    .option-group{background:#faf7fb;padding:10px;border-radius:8px;border:1px solid #ffe6f2}
    label{font-weight:600;font-size:14px}
    select,input[type="number"]{width:100%;padding:9px;border-radius:8px;border:1px solid #ddd;margin-top:6px}
    .extras{display:flex;flex-direction:column;gap:8px}
    .extras label{font-weight:500;color:#444}
    .modal-actions{display:flex;gap:10px;margin-top:6px}
    .muted{color:#666;font-size:13px}
    /* Cart sidebar */
    .cart-sidebar{position:fixed;right:-420px;top:0;height:100%;width:420px;background:white;box-shadow:-10px 0 30px rgba(0,0,0,0.12);transition:right .28s;z-index:2500;display:flex;flex-direction:column}
    .cart-sidebar.open{right:0}
    .cart-head{padding:18px;border-bottom:1px solid #f3d6e5;display:flex;align-items:center;justify-content:space-between}
<style>
  :root{
    --brand-pink:#d63384;
    --brand-pink-deep:#b42b6f;
    --white:#ffffff;
    --muted:#f6f4f6;
    --card-shadow: 0 6px 18px rgba(0,0,0,0.08);
    --max-width:1200px;
  }
  *{box-sizing:border-box}
  body{margin:0;font-family:Inter,system-ui,Arial,sans-serif;background:var(--muted);color:#222;line-height:1.4}

  /* --- HEADER FIX --- */
  header.letterhead {
    min-height: 20vh;
    background: var(--white);
    border-bottom: 4px solid pink;
    position: sticky;
    top: 0;
    z-index: 1100;
    display: flex;
    flex-direction: column;
    justify-content: center;
  }
  .topbar {
    max-width: var(--max-width);
    margin: auto;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    padding: 6px 12px;
  }
  .brand {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 4px;
    text-align: center;
  }
  .logo-mark {
    width: 100px;
    height: auto;
    object-fit: contain;
  }
  .brand h1 {
    margin: 0;
    font-size: 24px;
    color: #000; /* black title */
    font-family: Georgia, serif;
    font-weight: bold;
  }
  .brand .tag {
    font-size: 14px;
    color: var(--brand-pink);
    opacity: 1;
  }
  /* Nav */
  nav.topnav {
    background: var(--brand-pink);
    padding: 6px 20px;
    border-radius: 6px;
  }
  nav.topnav a {
    color: #fff;
    text-decoration: none;
    font-weight: 600;
    margin: 0 10px;
  }
  nav.topnav a:hover {
    color: #ffd700;
  }

  /* Hero */
  .hero{max-width:var(--max-width);margin:18px auto 0;background:linear-gradient(180deg,rgba(214,51,132,0.05),transparent);padding:30px;border-radius:12px;display:flex;gap:20px;align-items:center}
  .hero-left{flex:1;padding:8px}
  .hero-left h2{margin:0;color:var(--brand-pink);font-size:28px}
  .hero-left p{margin-top:8px;color:#444}
  .hero-cta{margin-top:12px}
  .btn-primary{background:var(--brand-pink);color:white;padding:10px 16px;border:none;border-radius:8px;cursor:pointer;font-weight:700}
  .btn-primary:hover{background:var(--brand-pink-deep)}
  .hero-right{width:260px;display:flex;justify-content:center}
  .hero-img{width:220px;height:140px;border-radius:10px;object-fit:cover;box-shadow:var(--card-shadow)}

  /* Search */
  .search-area{max-width:var(--max-width);margin:18px auto;padding:0 18px;display:flex;justify-content:center}
  #search{width:100%;max-width:820px;padding:12px 14px;border-radius:8px;border:2px solid #ffd6ea;outline:none;font-size:15px}

  /* Products grid */
  .products-section{max-width:var(--max-width);margin:18px auto;padding:16px;border-radius:10px}
  .section-title{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}
  .section-title h3{margin:0;color:var(--brand-pink)}
  .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(230px,1fr));gap:16px}
  .card{background:var(--white);border-radius:10px;padding:12px;box-shadow:var(--card-shadow);display:flex;flex-direction:column;gap:8px}
  .card img{width:100%;height:160px;object-fit:cover;border-radius:8px}
  .card h4{margin:0;color:#222;font-size:16px}
  .card p{margin:0;color:#666;font-size:14px}
  .card .price{margin-top:6px;font-weight:800;color:var(--brand-pink)}
  .card .small{font-size:13px;color:#888}
  .card .actions{display:flex;gap:8px;margin-top:8px}
  .btn-outline{background:white;border:2px solid var(--brand-pink);color:var(--brand-pink);padding:8px 10px;border-radius:8px;cursor:pointer;font-weight:700}
  .btn-outline:hover{background:#fff0f6}

  /* Modal */
  .modal{position:fixed;inset:0;background:rgba(0,0,0,0.55);display:none;align-items:center;justify-content:center;padding:16px;z-index:2200}
  .modal.open{display:flex}
  .modal-card{background:white;border-radius:10px;max-width:760px;width:100%;display:flex;gap:18px;padding:16px;box-shadow:0 12px 30px rgba(0,0,0,0.18)}
  .modal-left{flex:1}
  .modal-left img{width:100%;height:320px;object-fit:cover;border-radius:8px}
  .modal-right{width:360px;display:flex;flex-direction:column;gap:10px}
  .modal-right h3{margin:0;color:var(--brand-pink)}
  .option-group{background:#faf7fb;padding:10px;border-radius:8px;border:1px solid #ffe6f2}
  label{font-weight:600;font-size:14px}
  select,input[type="number"]{width:100%;padding:9px;border-radius:8px;border:1px solid #ddd;margin-top:6px}
  .extras{display:flex;flex-direction:column;gap:8px}
  .extras label{font-weight:500;color:#444}
  .modal-actions{display:flex;gap:10px;margin-top:6px}
  .muted{color:#666;font-size:13px}

  /* Cart sidebar */
  .cart-sidebar{position:fixed;right:-420px;top:0;height:100%;width:420px;background:white;box-shadow:-10px 0 30px rgba(0,0,0,0.12);transition:right .28s;z-index:2500;display:flex;flex-direction:column}
  .cart-sidebar.open{right:0}
  .cart-head{padding:18px;border-bottom:1px solid #f3d6e5;display:flex;align-items:center;justify-content:space-between}
  .cart-body{padding:12px;flex:1;overflow:auto}
  .cart-item{display:flex;gap:10px;padding:10px;border-bottom:1px dashed #eee;align-items:center}
  .cart-item img{width:72px;height:56px;object-fit:cover;border-radius:6px}
  .cart-item .info{flex:1}
  .cart-item .info b{display:block}
  .cart-item .qty{display:flex;gap:6px;align-items:center;margin-top:6px}
  .cart-footer{padding:12px;border-top:1px solid #f3d6e5}
  .cart-total{font-weight:900;color:var(--brand-pink);font-size:18px}
  .cart-empty{padding:18px;text-align:center;color:#777}

  /* About / Contact sections */
  .about, .contact{max-width:var(--max-width);margin:18px auto;padding:18px;background:white;border-radius:10px;box-shadow:var(--card-shadow)}
  .about p, .contact p{color:#444}

  /* Footer */
  footer.site-footer{text-align:center;padding:20px;background:white;border-top:2px solid pink;margin-top:18px}
  footer .logo-text{font-family:"Brush Script MT",cursive;color:var(--brand-pink);font-size:18px;margin-top:6px}

  /* Responsive tweaks */
  @media (max-width:900px){
    .modal-card{flex-direction:column}
    .modal-left img{height:220px}
    .modal-right{width:100%}
    .cart-sidebar{width:100%;right:-100%}
    .cart-sidebar.open{right:0}
  }
</style>
</head>
<body>

  <!-- HEADER / LETTERHEAD -->
  <header class="letterhead">
  <div class="topbar">
    <div class="brand">
      <div class="logo-mark">RC</div>
      <div class="brand-text">
        <h1>Ray Creamy Cakes</h1>
        <div class="tag">Delight in every bite</div>
      </div>
    </div>
  </div>

  <nav class="topnav">
    <div class="nav-wrap">
      <div class="nav-left">
        <a href="#">Home</a>
        <a href="#">Contact</a>
      </div>
      <div class="nav-right">
        <div class="cart-badge">Cart</div>
      </div>
    </div>
  </nav>
</header>

<!-- HERO -->
<main id="home" style="padding: 40px; max-width: 1200px; margin: 0 auto;">
  <section class="hero" style="display: flex; flex-wrap: wrap; align-items: center; gap: 20px; margin-bottom: 40px;">
    <div class="hero-left" style="flex: 1 1 400px;">
      <h2>Freshly baked. Beautifully crafted.</h2>
      <p>Ray Creamy Cakes offers cakes, pastries, small chops, doughnuts and parfaits â€” all made with love and delivered across Lagos.</p>
      <div class="hero-cta">
        <button class="btn-primary" onclick="document.getElementById('search').focus()">Order Now via WhatsApp</button>
      </div>
    </div>
    <div class="hero-right" style="flex: 1 1 400px; text-align:center;">
      <img class="hero-img" src="https://images.unsplash.com/photo-1505250469679-203ad9ced0cb?q=80&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&s=01e2d5b9b2ef9b2c6e6ba4f3a6d6a6b9" 
           alt="Cake hero image" style="max-width:100%; border-radius:12px;">
    </div>
  </section>

  <!-- SEARCH -->
  <div class="search-area" style="margin-bottom:40px; text-align:center;">
    <input id="search" placeholder="Search products (e.g., doughnuts, parfait, birthday)..." aria-label="Search products" 
           style="padding:12px; width:80%; max-width:500px; border:1px solid #ddd; border-radius:8px;">
  </div>

  <!-- PRODUCTS GRID -->
  <section id="products" class="products-section" style="margin-bottom:50px;">
    <div class="section-title" style="text-align:center; margin-bottom:20px;">
      <h3>Our Menu</h3>
      <div class="muted">Tap a product to view options & add to cart</div>
    </div>

    <!-- Temporary sample product cards -->
    <div id="grid" class="grid" style="display:flex; gap:20px; flex-wrap:wrap; justify-content:center;">
      <div style="flex:1 1 250px; max-width:300px; text-align:center; background:#fff; padding:20px; border-radius:12px; box-shadow:0 2px 6px rgba(0,0,0,0.1);">
        <img src="https://images.unsplash.com/photo-1600891964092-4316c288032e?q=80&w=600" alt="Chocolate Cake" style="width:100%; border-radius:12px;">
        <h4>Chocolate Cake</h4>
        <p>Rich, moist, layered with creamy frosting.</p>
      </div>
      <div style="flex:1 1 250px; max-width:300px; text-align:center; background:#fff; padding:20px; border-radius:12px; box-shadow:0 2px 6px rgba(0,0,0,0.1);">
        <img src="https://images.unsplash.com/photo-1586985288825-3a7f49b37d5d?q=80&w=600" alt="Vanilla Cake" style="width:100%; border-radius:12px;">
        <h4>Vanilla Cake</h4>
        <p>Classic vanilla delight with smooth buttercream.</p>
      </div>
      <div style="flex:1 1 250px; max-width:300px; text-align:center; background:#fff; padding:20px; border-radius:12px; box-shadow:0 2px 6px rgba(0,0,0,0.1);">
        <img src="https://images.unsplash.com/photo-1565958011703-44e6a86a1ba4?q=80&w=600" alt="Fruit Cake" style="width:100%; border-radius:12px;">
        <h4>Fruit Cake</h4>
        <p>Loaded with fresh fruits and sweet flavors.</p>
      </div>
    </div>
  </section>

  <!-- ABOUT -->
  <section id="about" class="about" style="margin-bottom:50px;">
    <h3 style="color:var(--brand-pink);margin-top:0">About Ray Creamy Cakes</h3>
    <p>Ray Creamy Cakes is a home-grown bakery specializing in custom cakes, pastries, and party treats. We use fresh ingredients, craft each order by hand, and deliver with care. Want something special? Contact us and weâ€™ll design the perfect dessert for your event.</p>
  </section>

  <!-- CONTACT -->
  <section id="contact" class="contact" style="margin-bottom:50px;">
    <h3 style="color:var(--brand-pink);margin-top:0">Contact & Payment</h3>
    <p style="text-align:center;">
      WhatsApp / Phone: <strong><a href="https://wa.me/2348141352180" target="_blank">08141352180</a></strong><br><br>
      Opay Payment Details:<br>
      <strong>8141352180</strong><br>
      Motunrayo Opeoluwa Onashile
    </p>
  </section>
</main>

  <!-- FOOTER -->
  <footer class="site-footer" role="contentinfo">
    <div style="max-width:var(--max-width);margin:auto">
      <div style="display:flex;align-items:center;justify-content:center;gap:8px">
        <div class="logo-mark" aria-hidden style="width:36px;height:28px;font-size:13px">RC</div>
        <div class="logo-text">Ray Creamy Cakes</div>
      </div>
      <div style="margin-top:8px;color:var(--brand-pink)">Â© 2025 Ray Creamy Cakes</div>
    </div>
  </footer>

  <!-- MODAL (product details) -->
  <div id="modal" class="modal" aria-hidden="true">
    <div class="modal-card" role="dialog" aria-modal="true" aria-labelledby="modal-title">
      <div class="modal-left">
        <img id="modal-img" src="" alt="Product image">
      </div>
      <div class="modal-right">
        <div style="display:flex;justify-content:space-between;align-items:flex-start">
          <h3 id="modal-title">Product Title</h3>
          <button onclick="closeModal()" style="background:none;border:none;font-size:20px;color:var(--brand-pink);cursor:pointer">&times;</button>
        </div>

        <div id="modal-desc" class="muted">Product description</div>

        <div class="option-group">
          <label for="modal-size">Size / Variant</label>
          <select id="modal-size" onchange="recalcModalPrice()"></select>
        </div>

        <div class="option-group">
          <label>Extras (optional)</label>
          <div id="modal-extras" class="extras"></div>
        </div>

        <div style="display:flex;gap:10px;align-items:center">
          <div style="flex:1">
            <label for="modal-qty">Quantity</label>
            <input id="modal-qty" type="number" min="1" value="1" onchange="recalcModalPrice()">
          </div>
          <div style="width:120px;text-align:right">
            <div class="muted">Price</div>
            <div style="font-weight:900;color:var(--brand-pink);font-size:18px">â‚¦<span id="modal-price">0</span></div>
          </div>
        </div>

        <div class="modal-actions">
          <button class="btn-primary" onclick="addModalToCart()">Add to Cart</button>
          <button class="btn-outline" onclick="orderDirect()">Order via WhatsApp</button>
        </div>

      </div>
    </div>
  </div>

  <!-- CART SIDEBAR -->
  <aside id="cartSidebar" class="cart-sidebar" aria-hidden="true">
    <div class="cart-head">
      <div>
        <div style="font-weight:800;color:var(--brand-pink)">Your Cart</div>
        <div class="muted" id="cart-count-text">0 items</div>
      </div>
      <div>
        <button onclick="toggleCart()" style="background:none;border:none;font-size:20px;color:var(--brand-pink);cursor:pointer">&times;</button>
      </div>
    </div>

    <div id="cartBody" class="cart-body">
      <div id="cartItemsContainer" class="cart-items"></div>
      <div id="cartEmpty" class="cart-empty">Your cart is empty â€” add something yummy!</div>
    </div>

    <div class="cart-footer">
      <div style="display:flex;justify-content:space-between;align-items:center">
        <div class="muted">Total</div>
        <div class="cart-total">â‚¦<span id="cartTotal">0</span></div>
      </div>
      <div style="margin-top:10px">
        <button class="btn-primary" style="width:100%" onclick="checkout()">Checkout via WhatsApp</button>
      </div>
    </div>
  </aside>

  <script>
    /* ---------- Product Data (36 items) ---------- */
    const PRODUCTS = [
      /* Birthday Cakes (6) */
      { id:'cake1', category:'Birthday Cakes', name:'Classic Vanilla Cake', img:'https://images.unsplash.com/photo-1542831371-d531d36971e6?q=80&w=1200&auto=format&fit=crop', price:12000, desc:'Fluffy vanilla layers with smooth buttercream.', extras:[{name:'Add Fruit Topping', price:1000},{name:'With Nuts', price:500}] },
      { id:'cake2', category:'Birthday Cakes', name:'Chocolate Fudge Cake', img:'https://images.unsplash.com/photo-1604908177522-8f8f3d2b9f6a?q=80&w=1200&auto=format&fit=crop', price:15000, desc:'Rich chocolate layers with fudge frosting.', extras:[{name:'Add Chocolate Drip', price:1200},{name:'With Nuts', price:500}] },
      { id:'cake3', category:'Birthday Cakes', name:'Red Velvet Cake', img:'https://images.unsplash.com/photo-1541599540903-216a46caad15?q=80&w=1200&auto=format&fit=crop', price:18000, desc:'Classic red velvet with cream cheese frosting.', extras:[{name:'Cream Cheese Extra', price:800},{name:'With Nuts', price:500}] },
      { id:'cake4', category:'Birthday Cakes', name:'Fruit Cake', img:'https://images.unsplash.com/photo-1519681393784-d120267933ba?q=80&w=1200&auto=format&fit=crop', price:20000, desc:'Loaded with dried fruits and nuts.', extras:[{name:'Premium Fruits', price:1500}] },
      { id:'cake5', category:'Birthday Cakes', name:'Wedding Tier Cake', img:'https://images.unsplash.com/photo-1528012819807-3be0e6b6d4d9?q=80&w=1200&auto=format&fit=crop', price:30000, desc:'Elegant multi-tier wedding design.', extras:[{name:'Gold Leaf', price:3000}] },
      { id:'cake6', category:'Birthday Cakes', name:'Custom Theme Cake', img:'https://images.unsplash.com/photo-1523986371872-9d3ba2e2f642?q=80&w=1200&auto=format&fit=crop', price:25000, desc:'Custom design for your favorite theme.', extras:[{name:'Custom Figurine', price:2500}] },

      /* Cupcakes (6) */
      { id:'cup1', category:'Cupcakes', name:'Vanilla Cupcakes (Box of 6)', img:'https://images.unsplash.com/photo-1551024709-8f23befc6f87?q=80&w=1200&auto=format&fit=crop', price:1500, desc:'Box of 6 soft vanilla cupcakes.', extras:[{name:'Add Frosting', price:800}] },
      { id:'cup2', category:'Cupcakes', name:'Chocolate Cupcakes (Box of 6)', img:'https://images.unsplash.com/photo-1548365328-91b8f3f8c9b1?q=80&w=1200&auto=format&fit=crop', price:2000, desc:'Rich chocolate cupcakes, box of 6.', extras:[{name:'Chocolate Chips', price:500}] },
      { id:'cup3', category:'Cupcakes', name:'Red Velvet Cupcakes (Box of 6)', img:'https://images.unsplash.com/photo-1532634896-26909d0d6e5b?q=80&w=1200&auto=format&fit=crop', price:2000, desc:'Velvety red cupcakes with cream topping.', extras:[{name:'Cream Topping', price:400}] },
      { id:'cup4', category:'Cupcakes', name:'Rainbow Cupcakes (Box of 6)', img:'https://images.unsplash.com/photo-1523906630133-f6934a84f13b?q=80&w=1200&auto=format&fit=crop', price:2200, desc:'Colorful party cupcakes.', extras:[{name:'Sprinkles', price:200}] },
      { id:'cup5', category:'Cupcakes', name:'Nutella Cupcakes (Box of 6)', img:'https://images.unsplash.com/photo-1504674900247-0877df9cc836?q=80&w=1200&auto=format&fit=crop', price:2500, desc:'Filled with Nutella delight.', extras:[{name:'Extra Nutella', price:500}] },
      { id:'cup6', category:'Cupcakes', name:'Oreo Cupcakes (Box of 6)', img:'https://images.unsplash.com/photo-1604908177523-9d3b2b462b2b?q=80&w=1200&auto=format&fit=crop', price:2500, desc:'Cookies & cream cupcakes.', extras:[{name:'Extra Oreos', price:400}] },

      /* Cake Parfaits (6) */
      { id:'par1', category:'Cake Parfait', name:'Strawberry Parfait', img:'https://images.unsplash.com/photo-1566824073395-0aa2d0b7f7a1?q=80&w=1200&auto=format&fit=crop', price:2000, desc:'Layers of cream and strawberry.', extras:[{name:'Add Fresh Berries', price:400}] },
      { id:'par2', category:'Cake Parfait', name:'Chocolate Parfait', img:'https://images.unsplash.com/photo-1578985545062-69928b1d9587?q=80&w=1200&auto=format&fit=crop', price:2500, desc:'Chocolate layers and crunch.', extras:[{name:'Add Chocolate Shavings', price:300}] },
      { id:'par3', category:'Cake Parfait', name:'Vanilla Cream Parfait', img:'https://images.unsplash.com/photo-1604908177524-3b8c9f6f7c9e?q=80&w=1200&auto=format&fit=crop', price:2200, desc:'Smooth vanilla cream parfait.', extras:[{name:'Extra Cream', price:250}] },
      { id:'par4', category:'Cake Parfait', name:'Mixed Berry Parfait', img:'https://images.unsplash.com/photo-1505577058444-a3dabf04f1ae?q=80&w=1200&auto=format&fit=crop', price:3000, desc:'Assortment of berries & cream.', extras:[{name:'Add Granola', price:200}] },
      { id:'par5', category:'Cake Parfait', name:'Tropical Delight Parfait', img:'https://images.unsplash.com/photo-1532512421009-9f0b2d0b3f42?q=80&w=1200&auto=format&fit=crop', price:3200, desc:'Tropical fruits & creamy layers.', extras:[{name:'Add Coconut Flakes', price:200}] },
      { id:'par6', category:'Cake Parfait', name:'Cookies & Cream Parfait', img:'https://images.unsplash.com/photo-1544482570-8f2d4c6f21c9?q=80&w=1200&auto=format&fit=crop', price:3500, desc:'Cookies layered with cream.', extras:[{name:'Extra Cookies', price:300}] },

      /* Small Chops (6) */
      { id:'sc1', category:'Small Chops', name:'Spring Rolls (Pack)', img:'https://images.unsplash.com/photo-1544025162-d76694265947?q=80&w=1200&auto=format&fit=crop', price:800, desc:'Crispy spring rolls (per pack).', extras:[{name:'Extra Sauce', price:150}] },
      { id:'sc2', category:'Small Chops', name:'Samosa (Pack)', img:'https://images.unsplash.com/photo-1617191512725-9b170b4a0bf9?q=80&w=1200&auto=format&fit=crop', price:1000, desc:'Spiced samosa packs.', extras:[{name:'Extra Spice', price:100}] },
      { id:'sc3', category:'Small Chops', name:'Puff-Puff (Pack)', img:'https://images.unsplash.com/photo-1599785209791-8c4b9b6ac0b9?q=80&w=1200&auto=format&fit=crop', price:500, desc:'Classic puff-puff (per pack).', extras:[{name:'Add Sugar', price:50}] },
      { id:'sc4', category:'Small Chops', name:'Meat Pie (Pack)', img:'https://images.unsplash.com/photo-1607082353352-8fa9f6b240f6?q=80&w=1200&auto=format&fit=crop', price:1200, desc:'Savory meat pies.', extras:[{name:'Extra Filling', price:200}] },
      { id:'sc5', category:'Small Chops', name:'Chicken Skewers (Pack)', img:'https://images.unsplash.com/photo-1600891964599-f61ba0e24092?q=80&w=1200&auto=format&fit=crop', price:1500, desc:'Juicy chicken skewers.', extras:[{name:'Add Dip', price:150}] },
      { id:'sc6', category:'Small Chops', name:'Fish Roll (Pack)', img:'https://images.unsplash.com/photo-1604908177525-6b2d4f6b7a2b?q=80&w=1200&auto=format&fit=crop', price:1000, desc:'Crispy fish rolls.', extras:[{name:'Extra Lemon', price:50}] },

      /* Doughnuts (6) */
      { id:'dn1', category:'Doughnuts', name:'Classic Sugar Doughnut (6pc)', img:'https://images.unsplash.com/photo-1542444397-5a7a0b6f7a20?q=80&w=1200&auto=format&fit=crop', price:800, desc:'Box of 6 sugar doughnuts.', extras:[{name:'With Sprinkles', price:100}] },
      { id:'dn2', category:'Doughnuts', name:'Chocolate Glazed Doughnut (6pc)', img:'https://images.unsplash.com/photo-1541599540903-216a46caad15?q=80&w=1200&auto=format&fit=crop', price:1200, desc:'Chocolate glazed doughnuts, box of 6.', extras:[{name:'Extra Chocolate', price:200}] },
      { id:'dn3', category:'Doughnuts', name:'Jam-Filled Doughnut (6pc)', img:'https://images.unsplash.com/photo-1505250469679-203ad9ced0cb?q=80&w=1200&auto=format&fit=crop', price:1500, desc:'Delicious jam filled doughnuts.', extras:[{name:'Extra Jam', price:200}] },
      { id:'dn4', category:'Doughnuts', name:'Cinnamon Doughnut (6pc)', img:'https://images.unsplash.com/photo-1504674900247-0877df9cc836?q=80&w=1200&auto=format&fit=crop', price:1000, desc:'Warm cinnamon taste (6pc).', extras:[{name:'Add Glaze', price:150}] },
      { id:'dn5', category:'Doughnuts', name:'Coconut Doughnut (6pc)', img:'https://images.unsplash.com/photo-1551024709-8f23befc6f87?q=80&w=1200&auto=format&fit=crop', price:1200, desc:'Tropical coconut doughnuts.', extras:[{name:'Extra Coconut', price:100}] },
      { id:'dn6', category:'Doughnuts', name:'Mini Doughnut Bites (6pc)', img:'https://images.unsplash.com/photo-1532634896-26909d0d6e5b?q=80&w=1200&auto=format&fit=crop', price:1000, desc:'Bite-sized doughnut treats.', extras:[{name:'Add Dip', price:150}] },

      /* Milky Doughnuts (6) */
      { id:'md1', category:'Milky Doughnuts', name:'Vanilla Milk Doughnut (6pc)', img:'https://images.unsplash.com/photo-1542089363-4f5a0b4e0b3b?q=80&w=1200&auto=format&fit=crop', price:1500, desc:'Milky vanilla doughnuts.', extras:[{name:'Extra Milk Glaze', price:150}] },
      { id:'md2', category:'Milky Doughnuts', name:'Strawberry Milk Doughnut (6pc)', img:'https://images.unsplash.com/photo-1523986371872-9d3ba2e2f642?q=80&w=1200&auto=format&fit=crop', price:1800, desc:'Strawberry flavored milk doughnuts.', extras:[{name:'Add Sprinkles', price:100}] },
      { id:'md3', category:'Milky Doughnuts', name:'Chocolate Milk Doughnut (6pc)', img:'https://images.unsplash.com/photo-1525699335637-5d4f6f7f6b6a?q=80&w=1200&auto=format&fit=crop', price:2000, desc:'Chocolate milk glazed doughnuts.', extras:[{name:'Extra Chocolate', price:200}] },
      { id:'md4', category:'Milky Doughnuts', name:'Caramel Milk Doughnut (6pc)', img:'https://images.unsplash.com/photo-1528909514045-2fa4ac7a08ba?q=80&w=1200&auto=format&fit=crop', price:1800, desc:'Caramel milk doughnuts.', extras:[{name:'Extra Caramel', price:150}] },
      { id:'md5', category:'Milky Doughnuts', name:'Mocha Milk Doughnut (6pc)', img:'https://images.unsplash.com/photo-1551022374-0e6a4f7e9c9a?q=80&w=1200&auto=format&fit=crop', price:2000, desc:'Mocha-flavored milky doughnuts.', extras:[{name:'Add Coffee Dust', price:150}] },
      { id:'md6', category:'Milky Doughnuts', name:'White Chocolate Milk Doughnut (6pc)', img:'https://images.unsplash.com/photo-1562440499-64b0fd3f3d83?q=80&w=1200&auto=format&fit=crop', price:1800, desc:'White chocolate milk doughnuts.', extras:[{name:'Extra White Choc', price:200}] }
    ];

    /* ---------- Utilities ---------- */
    function formatN(amount){
      // format as Naira with comma separators
      return amount.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
    }

    /* ---------- Render product grid ---------- */
    const grid = document.getElementById('grid');
    function renderGrid(list){
      grid.innerHTML = '';
      list.forEach(p=>{
        const card = document.createElement('div');
        card.className='card product-card';
        card.innerHTML = `
          <img src="${p.img}" alt="${p.name}">
          <h4>${p.name}</h4>
          <p class="small">${p.category}</p>
          <div class="price">â‚¦${formatN(p.price)}</div>
          <div class="actions">
            <button class="btn-outline" onclick="viewDetails('${p.id}')">View Details</button>
            <button class="btn-primary" style="padding:8px 10px" onclick="quickAdd('${p.id}')">Add</button>
          </div>
        `;
        grid.appendChild(card);
      });
    }

    // initial render
    renderGrid(PRODUCTS);

    /* ---------- Search ---------- */
    document.getElementById('search').addEventListener('input', function(){
      const q = this.value.trim().toLowerCase();
      const filtered = PRODUCTS.filter(p => (p.name+p.category+p.desc).toLowerCase().includes(q));
      renderGrid(filtered);
    });

    /* ---------- Modal behavior ---------- */
    const modal = document.getElementById('modal');
    const modalImg = document.getElementById('modal-img');
    const modalTitle = document.getElementById('modal-title');
    const modalDesc = document.getElementById('modal-desc');
    const modalSize = document.getElementById('modal-size');
    const modalExtras = document.getElementById('modal-extras');
    const modalQty = document.getElementById('modal-qty');
    const modalPriceSpan = document.getElementById('modal-price');

    let activeProduct = null;

    function viewDetails(prodId){
      const p = PRODUCTS.find(x=>x.id===prodId);
      if(!p) return;
      activeProduct = p;
      modalImg.src = p.img;
      modalTitle.textContent = p.name;
      modalDesc.textContent = p.desc || p.category;

      // Sizes: we offer simple size choices if category is Birthday Cakes, else one variant listing
      modalSize.innerHTML = '';
      if(p.category === 'Birthday Cakes'){
        const opts = [
          {label:'Small (base)', delta:0},
          {label:'Medium (+â‚¦5,000)', delta:5000},
          {label:'Large (+â‚¦10,000)', delta:10000}
        ];
        opts.forEach(o=>{
          const opt = document.createElement('option');
          opt.value = o.delta;
          opt.text = `${o.label}`;
          modalSize.appendChild(opt);
        });
      } else if(p.category === 'Cupcakes' || p.category === 'Doughnuts' || p.category === 'Milky Doughnuts'){
        // no size multiplier; use base price
        const opt = document.createElement('option'); opt.value = 0; opt.text = 'Standard';
        modalSize.appendChild(opt);
      } else if(p.category === 'Cake Parfait'){
        const opts = [{label:'Small', delta:0},{label:'Medium (+â‚¦1,000)', delta:1000},{label:'Large (+â‚¦2,000)', delta:2000}];
        opts.forEach(o=>{let opt=document.createElement('option'); opt.value=o.delta; opt.text=o.label; modalSize.appendChild(opt)});
      } else if(p.category === 'Small Chops'){
        const opts = [{label:'Mini Pack', delta:0},{label:'Party Pack (+â‚¦3,000)', delta:3000},{label:'Family Pack (+â‚¦6,000)', delta:6000}];
        opts.forEach(o=>{let opt=document.createElement('option'); opt.value=o.delta; opt.text=o.label; modalSize.appendChild(opt)});
      } else {
        const opt = document.createElement('option'); opt.value = 0; opt.text = 'Standard'; modalSize.appendChild(opt);
      }

      // extras
      modalExtras.innerHTML = '';
      if(Array.isArray(p.extras) && p.extras.length){
        p.extras.forEach((e, idx)=>{
          const id = `extra-${idx}`;
          const wrapper = document.createElement('label');
          wrapper.style.display='flex'; wrapper.style.justifyContent='space-between'; wrapper.style.alignItems='center';
          wrapper.innerHTML = `<span>${e.name}</span><input type="checkbox" data-price="${e.price}" aria-label="${e.name}">`;
          modalExtras.appendChild(wrapper);
        });
      } else {
        modalExtras.innerHTML = '<div class="muted">No additional extras</div>';
      }
      modalQty.value = 1;
      recalcModalPrice();
      modal.classList.add('open');
      modal.setAttribute('aria-hidden','false');
    }

    function closeModal(){
      modal.classList.remove('open');
      modal.setAttribute('aria-hidden','true');
    }

    function recalcModalPrice(){
      if(!activeProduct) return;
      const base = parseInt(activeProduct.price,10);
      const delta = parseInt(modalSize.value || 0,10);
      let extrasSum = 0;
      modalExtras.querySelectorAll('input[type="checkbox"]').forEach(cb=>{
        if(cb.checked) extrasSum += parseInt(cb.getAttribute('data-price')||0,10);
      });
      const qty = Math.max(1, parseInt(modalQty.value||1,10));
      const total = (base + delta + extrasSum) * qty;
      modalPriceSpan.textContent = formatN(total);
      return total;
    }

    /* ---------- Cart logic ---------- */
    let CART = []; // items: {id,name,price,qty,sizeLabel,extrasLabel,img}

    // quick add: add single qty 1 with no extras
    function quickAdd(prodId){
      const p = PRODUCTS.find(x=>x.id===prodId);
      if(!p) return;
      const item = {
        id:Date.now()+Math.random().toString(36).slice(2,7),
        pid:p.id,
        name:p.name,
        img:p.img,
        price: p.price,
        qty:1,
        sizeLabel:'Standard',
        extrasLabel:'-'
      };
      CART.push(item);
      updateCartUI();
      openCart();
    }

    function addModalToCart(){
      const qty = Math.max(1, parseInt(modalQty.value||1,10));
      const sizeDelta = parseInt(modalSize.value||0,10);
      const base = parseInt(activeProduct.price,10);
      // create size label
      let sizeLabel = modalSize.options[modalSize.selectedIndex].text;
      // extras
      let extrasArr = [];
      modalExtras.querySelectorAll('input[type="checkbox"]').forEach((cb, idx)=>{
        if(cb.checked){
          // extras come from activeProduct.extras in same order
          const ex = activeProduct.extras[idx];
          if(ex) extrasArr.push(`${ex.name} (+â‚¦${formatN(ex.price)})`);
        }
      });
      const extrasLabel = extrasArr.length ? extrasArr.join(', ') : '-';
      const itemPrice = (base + sizeDelta + (extrasArr.reduce((s,_,i)=>s + (activeProduct.extras[i]?.price||0),0))) * qty;
      const cartItem = {
        id: Date.now()+Math.random().toString(36).slice(2,7),
        pid: activeProduct.id,
        name: activeProduct.name,
        img: activeProduct.img,
        price: itemPrice,
        qty: qty,
        unitPrice: Math.round(itemPrice/qty),
        sizeLabel: sizeLabel,
        extrasLabel: extrasLabel
      };
      CART.push(cartItem);
      updateCartUI();
      closeModal();
      openCart();
    }

    function updateCartUI(){
      const container = document.getElementById('cartItemsContainer');
      container.innerHTML = '';
      if(CART.length === 0){
        document.getElementById('cartEmpty').style.display = 'block';
      } else {
        document.getElementById('cartEmpty').style.display = 'none';
      }
      let total = 0;
      CART.forEach((it, idx)=>{
        total += it.price;
        const div = document.createElement('div');
        div.className = 'cart-item';
        div.innerHTML = `
          <img src="${it.img}" alt="${it.name}">
          <div class="info">
            <b>${it.name}</b>
            <div class="muted">${it.sizeLabel}</div>
            <div style="margin-top:6px">${it.extrasLabel}</div>
            <div class="qty">
              <button onclick="changeQty(${idx}, -1)" style="padding:6px;background:#fff;border:1px solid #eee;border-radius:6px;cursor:pointer">-</button>
              <span style="padding:6px 8px;border-radius:6px;background:#faf5fb;margin:0 6px">${it.qty}</span>
              <button onclick="changeQty(${idx}, 1)" style="padding:6px;background:#fff;border:1px solid #eee;border-radius:6px;cursor:pointer">+</button>
              <button onclick="removeFromCart(${idx})" style="margin-left:10px;padding:6px;background:#ffeef6;border:none;border-radius:6px;color:var(--brand-pink);cursor:pointer">Remove</button>
            </div>
          </div>
          <div style="text-align:right;font-weight:800;color:var(--brand-pink)">â‚¦${formatN(it.price)}</div>
        `;
        container.appendChild(div);
      });
      document.getElementById('cartTotal').innerText = formatN(total);
      document.getElementById('cart-count').innerText = CART.length;
      document.getElementById('cart-count-text').innerText = CART.length + (CART.length===1 ? ' item' : ' items');
    }

    function changeQty(index, delta){
      if(!CART[index]) return;
      let it = CART[index];
      let newQty = it.qty + delta;
      if(newQty < 1) newQty = 1;
      // unitPrice = it.price / it.qty
      const unit = Math.round(it.price / it.qty);
      it.qty = newQty;
      it.price = unit * it.qty;
      updateCartUI();
    }

    function removeFromCart(index){
      CART.splice(index,1);
      updateCartUI();
    }

    function openCart(){ document.getElementById('cartSidebar').classList.add('open'); }
    function closeCart(){ document.getElementById('cartSidebar').classList.remove('open'); }
    function toggleCart(){ document.getElementById('cartSidebar').classList.toggle('open'); }

    /* ---------- Checkout via WhatsApp ---------- */
    function checkout(){
      if(CART.length === 0){ alert('Your cart is empty! Please add items before checkout.'); return; }
      let total = CART.reduce((s,i)=>s + (i.price || 0), 0);
      let msg = `Hello Ray Creamy Cakes, I'd like to place an order:%0A%0A`;
      CART.forEach((it, idx)=>{
        msg += `${idx+1}. ${it.name} - ${it.sizeLabel} - ${it.extrasLabel} - Qty: ${it.qty} - â‚¦${formatN(it.price)}%0A`;
      });
      msg += `%0ATotal: â‚¦${formatN(total)}%0A%0AName:%0APhone:%0ADelivery Address:%0APreferred Delivery Date/Time:%0A`;
      const wa = `https://wa.me/2348141352180?text=${msg}`;
      window.open(wa,'_blank');
    }

    /* ---------- Direct order from modal (one product) ---------- */
    function orderDirect(){
      // create similar message but for single product currently in modal
      if(!activeProduct) return;
      const qty = Math.max(1, parseInt(modalQty.value||1,10));
      const sizeLabel = modalSize.options[modalSize.selectedIndex].text;
      let extrasArr = [];
      modalExtras.querySelectorAll('input[type="checkbox"]').forEach((cb, idx)=>{
        if(cb.checked){
          const ex = activeProduct.extras[idx];
          if(ex) extrasArr.push(`${ex.name}`);
        }
      });
      const extrasLabel = extrasArr.length ? extrasArr.join(', ') : '-';
      const price = recalcModalPrice();
      let msg = `Hello Ray Creamy Cakes, I'd like to order:%0A%0A${activeProduct.name} - ${sizeLabel} - ${extrasLabel} - Qty: ${qty} - â‚¦${formatN(price)}%0A%0AName:%0APhone:%0ADelivery Address:%0A`;
      const wa = `https://wa.me/2348141352180?text=${msg}`;
      window.open(wa,'_blank');
    }

    /* ---------- Initialize UI ---------- */
    renderGrid(PRODUCTS);
    updateCartUI();

    // close modal on ESC or click outside
    window.addEventListener('keydown', function(e){ if(e.key==='Escape') closeModal(); });
    modal.addEventListener('click', function(e){ if(e.target === modal) closeModal(); });

    // small guard: if images fail on Unsplash, keep placeholders
    document.querySelectorAll('img').forEach(img=>{
      img.addEventListener('error', ()=>{ img.src = 'https://via.placeholder.com/600x400?text=Ray+Creamy+Cakes' });
    });
  </script>
</body>
</html>
